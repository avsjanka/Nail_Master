{"ast":null,"code":"async function loginUser(credentials) {\n  return fetch(`${window.location.origin}/backend/authentication`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(credentials)\n  }).then(data => data.json());\n}\nconst handleSubmit = async e => {\n  e.preventDefault();\n  let token = await loginUser({\n    login,\n    password\n  });\n  let myObject = JSON.stringify(token);\n  if (myObject === '{\"errorText\":\"Invalid username or password.\"}' || myObject.startsWith('{\"type\":\"https://tools.ietf.org/html/rfc7231#section-6.5.1\",\"title\":\"One or more validation errors occurred.\"')) {\n    myObject = null;\n  }\n  localStorage.setItem('jwt', myObject);\n  setToken(myObject);\n};","map":{"version":3,"names":["loginUser","credentials","fetch","window","location","origin","method","headers","body","JSON","stringify","then","data","json","handleSubmit","e","preventDefault","token","login","password","myObject","startsWith","localStorage","setItem","setToken"],"sources":["/home/avsjanka/Desktop/Projects/University/TiMP_RGR/front-end/src/components/Logining/login_func.js"],"sourcesContent":["async function loginUser(credentials) {\n    return fetch(`${window.location.origin}/backend/authentication`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    })\n      .then(data => data.json());\n}\n\nconst handleSubmit = async e => {\n    e.preventDefault();\n\n    let token = await loginUser({\n        login,\n        password\n    });\n    \n   \n      let myObject = JSON.stringify(token);\n      if( myObject === '{\"errorText\":\"Invalid username or password.\"}' || myObject.startsWith('{\"type\":\"https://tools.ietf.org/html/rfc7231#section-6.5.1\",\"title\":\"One or more validation errors occurred.\"') )\n      {\n        myObject = null;\n      }\n    localStorage.setItem('jwt',myObject);\n    setToken(myObject);\n}"],"mappings":"AAAA,eAAeA,SAASA,CAACC,WAAW,EAAE;EAClC,OAAOC,KAAK,CAAE,GAAEC,MAAM,CAACC,QAAQ,CAACC,MAAO,yBAAwB,EAAE;IAC/DC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,QAAQ,EAAE,kBAAkB;MAC5B,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,WAAW;EAClC,CAAC,CAAC,CACCU,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC;AAChC;AAEA,MAAMC,YAAY,GAAG,MAAMC,CAAC,IAAI;EAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,IAAIC,KAAK,GAAG,MAAMjB,SAAS,CAAC;IACxBkB,KAAK;IACLC;EACJ,CAAC,CAAC;EAGA,IAAIC,QAAQ,GAAGX,IAAI,CAACC,SAAS,CAACO,KAAK,CAAC;EACpC,IAAIG,QAAQ,KAAK,+CAA+C,IAAIA,QAAQ,CAACC,UAAU,CAAC,+GAA+G,CAAC,EACxM;IACED,QAAQ,GAAG,IAAI;EACjB;EACFE,YAAY,CAACC,OAAO,CAAC,KAAK,EAACH,QAAQ,CAAC;EACpCI,QAAQ,CAACJ,QAAQ,CAAC;AACtB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}